package{	import flash.display.MovieClip;	import flash.events.Event;	public class NPC extends BoxCollider{				protected var speech:Array;		protected var coverImg:NPCCover_1 = new NPCCover_1();		protected var hasTalkedToMe:Boolean = false;				function NPC(npcCost:int, xPos:int, yPos:int, w:int, h:int, s:Array):void{			//Calls superclass constructor			super(xPos, yPos, w, h);						speech = s;			addEventListener(Event.ENTER_FRAME, checkIfTalked);						coverImg.gotoAndStop(npcCost);						//Sets hit box			hitBox.width = coverImg.width;			hitBox.height = 40;			hitBox.y = coverImg.height - 40;						//Adds cover image			this.addChild(coverImg);						//Adjusts layering			addEventListener(Event.ENTER_FRAME, adjustLayer);		}				//Checks if NPC is being talked to		function checkIfTalked(event:Event):void{			//Checks if player has pressed z and is not in the inventory			if(_root.zDown && !_root.isPlayingText && _root.textBoxCoolDown == 0 && !_root.isInvUp){				//Checks talking from different directions				if(_root.compassDir == 1 && canMoveUp == false){					_root.turnOnTextBox(speech);					hasTalkedToMe = true;				}				else if(_root.compassDir == 2 && canMoveRight == false){					_root.turnOnTextBox(speech);					hasTalkedToMe = true;				}				else if(_root.compassDir == 3 && canMoveDown == false){					_root.turnOnTextBox(speech);					hasTalkedToMe = true;				}				else if(_root.compassDir == 4 && canMoveLeft == false){					_root.turnOnTextBox(speech);					hasTalkedToMe = true;				}				else{					hasTalkedToMe = false;				}			}			else{				hasTalkedToMe = false;			}					}				//Adjust the layer of the NPC with the player		function adjustLayer(event:Event):void{			if(this.y + this.height > _root.player.y + _root.player.height){				parent.setChildIndex(this, parent.numChildren - 1);			}			else{				parent.setChildIndex(this, 0);			}		}	}}